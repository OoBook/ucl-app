import{l as S,k,f as i,o as c,g as b,b as l,t as m,F as g,j as w,u as o,r as B,E as C,G as E,d as F,i as N,H as j,I as D,a as I,w as U,e as $,n as z}from"./app-CNFM8zkO.js";import{P as M}from"./PrimaryButton-ByB5uLeL.js";const A={key:0,class:"text-3xl font-bold mb-6"},G={for:"name",class:"block text-gray-700 font-bold mb-2 text-uppercase"},H=["type","id","onUpdate:modelValue"],L={key:0},O={class:"flex justify-end"},q={__name:"ItemForm",props:{routePrefix:String,title:String,item:Object,schema:Array},emits:["success","error","processing"],setup(d,{emit:h}){const n=h,a=d,y=S(!1),u=a.item??{},p=u.id!==void 0&&u.id!==null&&u.id!=="",f=a.schema.filter(e=>e.name!==null&&e.name!==void 0&&e.name!==""),x=f.map(e=>e.name),_=f.reduce((e,t)=>(e[t.name]=t.default??"",e),{}),v=x.reduce((e,t)=>{var s;return e[t]=((s=a==null?void 0:a.item)==null?void 0:s[t])??_[t]??"",e},{}),r=k({...v}),V=()=>{y.value=!0;const e=()=>{console.log("success"),n("processing",!1),n("success")},t=()=>{n("processing",!1),n("error")};p?(n("processing",!0),r.put(route(`${a.routePrefix}.update`,{team:a.item.id}),{onSuccess:e,onError:t})):(n("processing",!0),r.post(route(`${a.routePrefix}.store`),{onSuccess:e,onError:t}))};return(e,t)=>(c(),i(g,null,[d.title?(c(),i("h1",A,m(d.title??"Show Item"),1)):b("",!0),l("form",{onSubmit:F(V,["prevent"]),class:""},[(c(!0),i(g,null,w(o(f),s=>(c(),i("div",{class:"mb-4",key:s.name},[l("label",G,m(s.label??s.name),1),N(l("input",D({type:s.type??"text",id:s.name,"onUpdate:modelValue":P=>o(r)[s.name]=P,class:"w-full px-3 py-2 border rounded-md",ref_for:!0},s.attributes??{}),null,16,H),[[j,o(r)[s.name]]]),o(r).errors[s.name]?(c(),i("div",L,m(o(r).errors[s.name]),1)):b("",!0)]))),128)),l("div",O,[B(e.$slots,"actions",C(E({form:o(r)})),()=>[I(M,{type:"submit",class:z(["bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",[o(r).processing?"opacity-25":""]]),disabled:o(r).processing},{default:U(()=>[$(m(o(p)?"Update":"Create"),1)]),_:1},8,["disabled","class"])])])],32)],64))}};export{q as _};
